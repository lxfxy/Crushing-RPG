import{d as b,l as r,m as G,q as O,o as f,c as F,b as a,a as u,w as s,h as E,B,s as $,F as A,r as I,n as R,t as U,u as P,v as M,x as d,p as T,e as V,I as q,y as z,z as W}from"./vendor.c448481e.js";/* empty css              */import{_ as Y}from"./index.e250ae6c.js";const S=_=>new Promise((o,l)=>{let n=new Image;n.src=_,console.log(_),n.onload=()=>{n.onload=null,o(n)}}),H={class:"knapsack"},J=a("h2",null,"\u81EA\u5B9A\u4E49\u80CC\u5305\u8D34\u56FE",-1),K=a("p",null,[E("\u56FE\u7247\u653E\u5728 "),a("code",null,".minecraft\\resourcepacks\\DragonCore\\\u80CC\u5305")],-1),Q=a("p",null,[E("\u4FEE\u6539\u5B8C\u6210\u540E, \u53F3\u952E\u4FDD\u5B58, \u56FE\u7247\u540D\u4E3A "),a("code",null," bb.png ")],-1),X=E("\u4FEE\u6539GUI\u56FE\u7247"),Z=E("\u4FEE\u6539\u80CC\u666F\u56FE\u7247"),ee=b({setup(_){const o=r(),l=r("/Crushing-RPG/images/dragcore/bb.png"),n=r(""),p=r(!1),x=r();G(()=>{let e=o.value.getContext("2d");O(async()=>{e.clearRect(0,0,o.value.width,o.value.height),n.value&&e.drawImage(await S(n.value),0,0,o.value.width,o.value.height),e.drawImage(await S(l.value),0,0)}),x.value.addEventListener("change",()=>{let t=(x.value.files||[])[0];!t||(p.value?l.value=URL.createObjectURL(t):n.value=URL.createObjectURL(t))})});const g=e=>{p.value=e,x.value.click()};return(e,t)=>{const y=B,w=$;return f(),F("div",H,[a("input",{type:"file",accept:"image/*",class:"file-control",ref_key:"fileControl",ref:x},null,512),J,K,Q,u(w,null,{default:s(()=>[u(y,{onClick:t[0]||(t[0]=C=>g(!0))},{default:s(()=>[X]),_:1}),u(y,{onClick:t[1]||(t[1]=C=>g(!1))},{default:s(()=>[Z]),_:1})]),_:1}),a("canvas",{width:"1000",height:"560",ref_key:"canvas",ref:o,style:{border:"1px solid #ddd","margin-top":"10px"}},null,512)])}}});const te=a("h2",null,"\u70B9\u51FB\u590D\u5236\u76F8\u5173\u4EE3\u7801",-1),ue={class:"font code-container"},ae=a("h3",null,"\u5B57\u4F53\u4EE3\u7801",-1),le={class:"color code-container"},ne=a("h3",null,"\u989C\u8272\u4EE3\u7801",-1),se=b({setup(_){const o=[{key:"&k",text:"\u968F\u673A\u5B57\u7B26"},{key:"&l",style:{fontWeight:"bold"},text:"\u52A0\u7C97"},{key:"&m",style:{textDecorationLine:"line-through"},text:"\u5220\u9664\u7EBF"},{key:"&n",style:{textDecorationLine:"underline"},text:"\u4E0B\u5212\u7EBF"},{key:"&o",style:{fontStyle:"italic"},text:"\u659C\u4F53"}],l=[{key:"&0",text:"\u9ED1\u8272",hex:"000000",hex2:"000"},{key:"&1",text:"\u6DF1\u84DD\u8272",hex:"00002A",hex2:"00A"},{key:"&2",text:"\u6DF1\u7EFF\u8272",hex:"002A00",hex2:"0A0"},{key:"&3",text:"\u6E56\u84DD\u8272",hex:"002A2A",hex2:"0AA"},{key:"&4",text:"\u6DF1\u7EA2\u8272",hex:"2A0000",hex2:"A00"},{key:"&5",text:"\u7D2B\u8272",hex:"2A002A",hex2:"A0A"},{key:"&6",text:"\u91D1\u8272",hex:"2A2A00",hex2:"FA0"},{key:"&7",text:"\u7070\u8272",hex:"2A2A2A",hex2:"AAA"},{key:"&8",text:"\u6DF1\u7070\u8272",hex:"151515",hex2:"555"},{key:"&9",text:"\u975B\u84DD\u8272",hex:"15153F",hex2:"55F"},{key:"&a",text:"\u9C9C\u7EFF\u8272",hex:"153F15",hex2:"5F5"},{key:"&b",text:"\u6C34\u84DD\u8272",hex:"153F3F",hex2:"5FF"},{key:"&c",text:"\u7EA2\u8272",hex:"3F1515",hex2:"F55"},{key:"&d",text:"\u7C89\u8272",hex:"3F153F",hex2:"F5F"},{key:"&e",text:"\u9EC4\u8272",hex:"3F3F15",hex2:"FF5"},{key:"&f",text:"\u767D\u8272",hex:"3F3F3F",hex2:"FFF",color:"333"}],n=async p=>{await navigator.clipboard.writeText(p),P.success("\u76F8\u5173\u4EE3\u7801\u590D\u5236\u6210\u529F")};return(p,x)=>{const g=B,e=$;return f(),F(A,null,[te,a("div",ue,[ae,u(e,{class:"code-content"},{default:s(()=>[(f(),F(A,null,I(o,t=>u(g,{key:t.key,onClick:y=>n(t.key)},{default:s(()=>[a("span",{style:R(t.style)},U(t.text),5)]),_:2},1032,["onClick"])),64))]),_:1})]),a("div",le,[ne,u(e,{style:{"flex-wrap":"wrap",gap:"10px"}},{default:s(()=>[(f(),F(A,null,I(l,t=>u(g,{key:t.key,onClick:y=>n(t.key)},{default:s(()=>[a("span",{style:R(`background-color: #${t.hex2};`),class:"color-visible"},null,4),a("span",{style:R(`color: #${t.color||t.hex2}`)},U(t.text),5)]),_:2},1032,["onClick"])),64))]),_:1})])],64)}}});const j=_=>(T("data-v-371eec71"),_=_(),V(),_),oe={class:"gif-gen"},ie=j(()=>a("h2",null,"\u56FE\u7247\u6309\u6BD4\u4F8B\u5207\u5272\u751F\u6210GIF",-1)),ce=j(()=>a("p",null,"\u521A\u5F00\u59CB\u4F1A\u6709\u56FE\u7247\u793A\u4F8B",-1)),re={class:"img-preview"},de=E(" \u751F\u6210GIF "),_e=E(" \u9009\u62E9\u8981\u751F\u6210GIF\u7684\u56FE\u7247 "),he=["src"],ve={class:"genImg"},xe={class:"genImg-index"},pe=["src"],ge=["src"],fe=b({setup(_){const o=r(),l=r(),n=r(),p=r("/Crushing-RPG/1.png"),x=r([]),g=r(""),e=M({width:0,height:0,x:0,y:0,delay:200}),t=[{message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6570\u5B57",pattern:/^-?\d+$/}],y={width:t,height:t,x:t,y:t,delay:t},w=r(!1);G(()=>{let h=l.value.getContext("2d");h.globalCompositeOperation="destination-over",n.value.addEventListener("load",()=>{l.value.width=e.width=n.value.width,l.value.height=e.height=n.value.width,w.value=!0,C()}),o.value.addEventListener("change",i=>{p.value=URL.createObjectURL(o.value.files[0]),o.value.value=""})});const C=()=>{let h=l.value.getContext("2d");l.value.width=e.width,l.value.height=e.height,x.value=[];const i=new GIF({workers:4,quality:0,transparent:"rgba(255, 255, 255, 0)",workerScript:"/Crushing-RPG/gif.worker.js"});let m=n.value.width-e.height,v=0;for(;v<n.value.height;){h.clearRect(0,0,l.value.width,l.value.height),h.rect(0,0,l.value.width,l.value.height),h.fillStyle="rgba(255, 255, 255, 0)",h.fill(),h.drawImage(n.value,0+Number(e.x),-v);let k=l.value.toDataURL("image/png"),D=document.createElement("img");D.src=k,i.addFrame(l.value,{delay:Math.abs(e.delay),copy:!0}),x.value.push(l.value.toDataURL("image/png")),v+=l.value.width+m}h.clearRect(0,0,l.value.width,l.value.height),h.drawImage(n.value,0+Number(e.x),0),i.on("finished",k=>{g.value=URL.createObjectURL(k)}),i.render()};return(h,i)=>{const m=q,v=z,k=B,D=W,L=$;return f(),F("div",oe,[ie,ce,a("input",{type:"file",ref_key:"fileControl",ref:o,class:"file-control",accept:"image/*"},null,512),u(L,{align:"start"},{default:s(()=>[u(L,{style:{"flex-direction":"column"},align:"start"},{default:s(()=>[a("div",re,[u(D,{class:"img-preview-options",model:d(e),rules:y,layout:"inline",style:{"grid-area":"options","row-gap":"10px"},onSubmit:C},{default:s(()=>[u(v,{label:"\u5BBD",name:"width"},{default:s(()=>[u(m,{value:d(e).width,"onUpdate:value":i[0]||(i[0]=c=>d(e).width=c),suffix:"px"},null,8,["value"])]),_:1}),u(v,{label:"\u9AD8",name:"height"},{default:s(()=>[u(m,{value:d(e).height,"onUpdate:value":i[1]||(i[1]=c=>d(e).height=c),suffix:"px"},null,8,["value"])]),_:1}),u(v,{label:"\u6A2A\u8F74\u504F\u79FB",name:"x"},{default:s(()=>[u(m,{value:d(e).x,"onUpdate:value":i[2]||(i[2]=c=>d(e).x=c),suffix:"px"},null,8,["value"])]),_:1}),u(v,{label:"\u7EB5\u8F74\u504F\u79FB",name:"y"},{default:s(()=>[u(m,{value:d(e).y,"onUpdate:value":i[3]||(i[3]=c=>d(e).y=c),suffix:"px"},null,8,["value"])]),_:1}),u(v,{label:"\u5E27\u5EF6\u8FDF",name:"delay"},{default:s(()=>[u(m,{value:d(e).delay,"onUpdate:value":i[4]||(i[4]=c=>d(e).delay=c),suffix:"\u6BEB\u79D2"},null,8,["value"])]),_:1}),u(v,{style:{"flex-basis":"100%"},class:"img-options"},{default:s(()=>[u(k,{disabled:!w.value,type:"primary",htmlType:"submit"},{default:s(()=>[de]),_:1},8,["disabled"]),u(k,{onClick:i[5]||(i[5]=c=>d(o).click())},{default:s(()=>[_e]),_:1})]),_:1})]),_:1},8,["model"]),a("canvas",{ref_key:"canvas",ref:l,style:{"grid-area":"canvas"},class:"shadow"},null,512),a("img",{src:g.value,alt:"",style:{"grid-area":"gif"},class:"shadow"},null,8,he)]),a("div",ve,[(f(!0),F(A,null,I(x.value,(c,N)=>(f(),F("div",{class:"genImg-item shadow",key:Math.random()},[a("div",xe,U(N+1),1),a("img",{src:c,alt:""},null,8,pe)]))),128))])]),_:1}),a("img",{src:p.value,alt:"",class:"img-container shadow",ref_key:"img",ref:n},null,8,ge)]),_:1})])}}});var Fe=Y(fe,[["__scopeId","data-v-371eec71"]]);const me={class:"content tools"},we=b({setup(_){return(o,l)=>(f(),F("div",me,[u(ee),u(se),u(Fe)]))}});export{we as default};
